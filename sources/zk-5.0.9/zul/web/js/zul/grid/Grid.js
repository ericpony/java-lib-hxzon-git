zul.grid.Renderer={updateColumnMenuButton:function(a){var b;if(b=a.$n("btn")){b.style.height=a.$n().offsetHeight-1+"px"}}};zul.grid.Grid=zk.$extends(zul.mesh.MeshWidget,{$define:{emptyMessage:function(a){if(this.desktop){jq("td",this.$n("empty")).html(a)}}},getCell:function(c,a){var b;if(!(b=this.rows)){return null}if(b.nChildren<=c){return null}var c=b.getChildAt(c);return c.nChildren<=a?null:c.getChildAt(a)},getOddRowSclass:function(){return this._scOddRow==null?this.getZclass()+"-odd":this._scOddRow},setOddRowSclass:function(a){if(!a){a=null}if(this._scOddRow!=a){this._scOddRow=a;var b=this.$n();if(b&&this.rows){this.rows.stripe()}}return this},rerender:function(){this.$supers("rerender",arguments);if(this.rows){this.rows._syncStripe()}return this},getFocusCell:function(e){var b=this.rows.$n();if(jq.isAncestor(b,e)){var d=jq(e).parents("td"),f;for(var c=0,a=d.length;c<a;c++){f=d[c];if(f.parentNode.parentNode==b){return f}}}},getZclass:function(){return this._zclass==null?"z-grid":this._zclass},insertBefore:function(c,b,a){if(this.$super("insertBefore",c,b,!this.z_rod)){this._fixOnAdd(c,a,a);return true}},appendChild:function(b,a){if(this.$super("appendChild",b,!this.z_rod)){if(!this.insertingBefore_){this._fixOnAdd(b,a,a)}return true}},_fixOnAdd:function(c,b,a){if(c.$instanceof(zul.grid.Rows)){this.rows=c;this.fixForEmpty_()}else{if(c.$instanceof(zul.grid.Columns)){this.columns=c}else{if(c.$instanceof(zul.grid.Foot)){this.foot=c}else{if(c.$instanceof(zul.mesh.Paging)){this.paging=c}else{if(c.$instanceof(zul.mesh.Frozen)){this.frozen=c}}}}}if(!b){this.rerender()}if(!a){this._syncSize()}},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);var a;if(b==this.rows){this.rows=null;a=true;this.fixForEmpty_()}else{if(b==this.columns){this.columns=null}else{if(b==this.foot){this.foot=null}else{if(b==this.paging){this.paging=null}else{if(b==this.frozen){this.frozen=null}}}}}if(!a&&!this.childReplacing_){this._syncSize()}},_isEmpty:function(){return this.rows?this.rows.nChildren:false},redrawEmpty_:function(a){var c=this.columns?this.columns.nChildren:1,b=this.uuid,d=this.getZclass();a.push('<tbody id="',b,'-empty" class="',d,'-empty-body" ',(!this._emptyMessage||this._isEmpty()?' style="display:none"':""),'><tr><td colspan="',c,'">',this._emptyMessage,"</td></tr></tbody>")},fixForEmpty_:function(){if(this.desktop){if(this._isEmpty()){jq(this.$n("empty")).hide()}else{jq(this.$n("empty")).show()}}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(this.childReplacing_){this._fixOnAdd(a,true)}},insertChildHTML_:function(e,c,d){if(e.$instanceof(zul.grid.Rows)){this.rows=e;var b=this.$n("rows");if(b){jq(b).replaceWith(e.redrawHTML_());e.bind(d);this.ebodyrows=e.$n().rows;return}else{var a=this.$n("tpad");if(a){jq(a).after(e.redrawHTML_());e.bind(d);this.ebodyrows=e.$n().rows;return}else{if(this.ebodytbl){jq(this.ebodytbl).append(e.redrawHTML_());e.bind(d);this.ebodyrows=e.$n().rows;return}}}}this.rerender()},getHeadWidgetClass:function(){return zul.grid.Columns},getBodyWidgetIterator:function(a){return new zul.grid.RowIter(this,a)}});zul.grid.RowIter=zk.$extends(zk.Object,{$init:function(a,b){this.grid=a;this.opts=b},_init:function(){if(!this._isInit){this._isInit=true;var a=this.grid.rows?this.grid.rows.firstChild:null;if(this.opts&&this.opts.skipHidden){for(;a&&!a.isVisible();a=a.nextSibling){}}this.p=a}},hasNext:function(){this._init();return this.p},next:function(){this._init();var b=this.p,a=b?b.nextSibling:null;if(this.opts&&this.opts.skipHidden){for(;a&&!a.isVisible();a=a.nextSibling){}}if(b){this.p=a}return b}});