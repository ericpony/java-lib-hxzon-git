（hxzon读书笔记）《Unity4.x从入门到精通》第7章-物理引擎

by hxzon
====
目录

7.1，Rigidbody（刚体）
7.2，Colliders（碰撞体）
7.3，Character Controller（角色控制器）
7.4，布料
7.5，关节
7.6，力场
7.7，物理引擎实例

p114
====
7.1，刚体

游戏对象添加了刚体组件，才能受到物理影响。

通常情况下没有必要操作一个对象刚体的同时，也操作其transform，
只需2选1。

菜单栏Component-Physics-Rigidbody。

刚体参数：
mass，质量。
drag，空气阻力。
angular drag，角阻力，对象受扭矩力旋转时受到的空气阻力。
use gravity，启用重力。
is kinematic，启用动力学，不再受物理引擎影响，从而只能通过Transform组件来操作。

interpolate，插值，控制刚体运动的抖动情况。
collision detection，碰撞检测。

constraints，约束（freeze position，冻结位置。freeze rotation，冻结旋转）。

----
使用刚体组件注意事项：

-1，parenting，父子级。
-2，scripting，脚本。

-3，animation，动画。
有些情况，例如创建布娃娃效果时，需要在动画和物理系统间切换对象控制权。
当刚体被标记为动力学模式时，自身不受物理系统影响，
但是会影响其他对象。

====
7.2，collider，碰撞体

碰撞体是物理组件中的一类，要与刚体一起才能触发碰撞。
两个对象都有碰撞体时物理引擎才会计算碰撞。

菜单栏component-physics，可选择不同的碰撞体类型。

----
各种碰撞体：

-1，box collider，盒碰撞体，可用作门，墙，平台，汽车外壳，箱子等。

-2，sphere collider，球形碰撞体。

-3，capsule collider，胶囊碰撞体。

--
-4，mesh collider，网格碰撞体。
网格碰撞体通过获取网格对象，在其基础上构建碰撞，
更加精细，但占用更多系统资源。

开启convex（凸起）参数的网格碰撞体才可以与其它网格碰撞体发生碰撞。需要注意的是，只有当网格碰撞体网格的三角形数量少于255时，才有效。

-5，wheel collider，车轮碰撞体。

----
7.2.2，碰撞体知识点

-1，碰撞体不一定需要绑定刚体。
当两个碰撞体发生碰撞且至少其中一个有刚体，
就会有三个碰撞消息发送给绑定它们的对象。
这些事件可以被脚本所处理。

-2，触发器。
如果要使碰撞体生效，并将其看作一个触发器，
可在inspector视图中开启isTrigger属性。
触发器不受物理引擎控制，
同样，一个触发器发生碰撞时会发送三个触发消息。
触发器可用于切换场景，自动门开启，显示帮助教程等。
为了两个有触发器的对象在碰撞时发送触发时间，其中一个对象必须有刚体。

-3，摩擦力和弹力。

-4，物理材质。

====
7.3，character controller，角色控制器。

角色控制器主要用于对第三人称或第一人称游戏主角的控制，不使用刚体物理效果。

菜单栏component-physics-character controller选项。

----
角色控制器属性：

slope limit，坡度限制，对象只能爬上小于等于该值的斜坡。

step offset，台阶高度。

skin width，皮肤厚度。
决定了两个碰撞体可以相互渗入的深度，较大会产生抖动，较小对象会卡住。一般设为radius值的10%。

min move distance，最小移动距离。推荐值为0。

center，中心，决定了胶囊碰撞体在世界坐标中的位置。

radius，胶囊碰撞体的长度半径。

height，胶囊碰撞体的高度。
改变此值会使碰撞体沿着y轴的正负两个方向同时伸缩。

----
角色控制器不会对受到的作用力作出反应，也不会作用于其它的刚体。
如果想让角色控制器能够作用于其它的刚体对象，可通过脚本[OnControllerColliderHit()]函数在与其它相碰撞的对象上使用一个作用力。

如果想让角色控制器受物理效果影响，最好用刚体替代它。

====
7.4，布料。

----
7.4.1，interactive cloth，交互布料。

交互布料可在一个网格上模拟类似布料的行为状体。

菜单栏component-physics-interactive cloth选项。

----
7.4.2，skinned cloth，蒙皮布料。

蒙皮布料和蒙皮网格渲染器一起用来模拟角色身上的衣服。

菜单栏component-physics-skinned cloth选项。

当使用蒙皮布料时，将从蒙皮网格渲染器中获取顶点并以此来模拟布料。

----
7.4.3，cloth renderer，布料渲染器。

====
7.5，关节。

----
7.5.1，hinge joint，铰链关节。

铰链关节右两个刚体组成，该关节会对刚体进行约束，使得它们好像被连接在一个铰链上那样运动。
适合对门、模型链，钟摆物体的模拟。

不需要指定connected body属性来运转关节。

----
7.5.2，fixed joint，固定关节。

固定关节组件用于约束一个对象对另一个对象的运动。
类似于对象的父子关系，但它是通过物理系统来实现而不像父子关系那样通过transform属性来进行约束。

适用一下情况：
当希望对象较容易与另一个对象分开时，或者连接两个没有父子关系的对象使其一起运动。

使用固定关节的对象自身需要有一个刚体。

----
7.5.3，spring joint，弹簧关节。

将两个刚体连接在一起，使其像连接着弹簧那样运动。

----
7.5.4，character joint，角色关节。

用于表现布娃娃效果，它是扩展的球关节，可用于限制每一个轴向上的关节。

----
7.5.5.configurable joint，可配置关节。

支持用户自定义关节，它开放了physX引擎中所有与关节相关的属性。

可配置关节有两类主要的功能：移动/旋转限制，移动/旋转加速度。

====
7.6，力场。

力场是一种为刚体快速添加恒定作用力的方法，
适用于类似火箭等发射出来的对象，
这些对象在起初没有很大的速度，但是不断加速。

菜单栏component-physics-constant force。

--
属性：

force，力，设定在世界坐标系中使用的力，用向量表示。
relative force，相对力，设定在物体局部坐标系中使用的力。

torque，设定世界坐标系中的扭矩力，用向量表示，
对象将依据该向量进行转动。

relative torque，相对扭矩，设定在物体局部坐标系中使用的扭矩力。

====
7.7，物理引擎实例。

（本章完）


