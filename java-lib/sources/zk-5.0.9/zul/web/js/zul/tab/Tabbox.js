zul.tab.Tabbox=zk.$extends(zul.Widget,{_orient:"horizontal",_tabscroll:true,$define:{tabscroll:_zkf=function(){this.rerender()},orient:_zkf,panelSpacing:_zkf},getTabs:function(){return this.tabs},getTabpanels:function(){return this.tabpanels},getToolbar:function(){return this.toolbar},getZclass:function(){return this._zclass==null?"z-tabbox"+(this.inAccordionMold()?"-"+this.getMold():this.isVertical()?"-ver":""):this._zclass},isHorizontal:function(){return"horizontal"==this.getOrient()},isVertical:function(){return"vertical"==this.getOrient()},inAccordionMold:function(){return this.getMold().indexOf("accordion")!=-1},getSelectedIndex:function(){return this._selTab?this._selTab.getIndex():-1},setSelectedIndex:function(a){if(this.tabs){this.setSelectedTab(this.tabs.getChildAt(a))}},getSelectedPanel:function(){return this._selTab?this._selTab.getLinkedPanel():null},setSelectedPanel:function(a){if(a&&a.getTabbox()!=this){return}var b=a.getLinkedTab();if(b){this.setSelectedTab(b)}},getSelectedTab:function(){return this._selTab},setSelectedTab:function(a){if(typeof a=="string"){a=zk.Widget.$(a)}if(this._selTab!=a){if(a){a.setSelected(true)}this._selTab=a}},bind_:function(d,c,b){this.$supers(zul.tab.Tabbox,"bind_",arguments);this._scrolling=false;var a=this._selTab;if(this.inAccordionMold()){zWatch.listen({onResponse:this})}if(a){b.push(function(){a.setSelected(true)})}},unbind_:function(){zWatch.unlisten({onResponse:this});this.$supers(zul.tab.Tabbox,"unbind_",arguments)},syncSize:function(){this._shallSize=false;if(this.desktop){zUtl.fireSized(this,-1)}},onResponse:function(){if(this._shallSize){this.syncSize()}},_syncSize:function(){this._shallSize=true},removeChildHTML_:function(a){this.$supers("removeChildHTML_",arguments);if(this.isVertical()&&a.$instanceof(zul.tab.Tabs)){jq(a.uuid+"-line",zk).remove()}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Toolbar)){this.toolbar=a}else{if(a.$instanceof(zul.tab.Tabs)){this.tabs=a}else{if(a.$instanceof(zul.tab.Tabpanels)){this.tabpanels=a}}}this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.toolbar){this.toolbar=null}else{if(a==this.tabs){this.tabs=null}else{if(a==this.tabpanels){this.tabpanels=null}}}if(!this.childReplacing_){this.rerender()}},setWidth:function(a){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this,-1)}},setHeight:function(a){this.$supers("setHeight",arguments);if(this.desktop){zUtl.fireSized(this,-1)}}});