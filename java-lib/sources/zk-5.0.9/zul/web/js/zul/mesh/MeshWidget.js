(function(){var g;function e(p,q,n,o,m,l){o.cells[p].style.width=zk(o.cells[p]).revisedWidth(q)+"px";n.cells[p].style.width=o.cells[p].style.width;if(m){m.cells[p].style.width=o.cells[p].style.width}if(l){var r=zk(l.cells[p]).revisedWidth(zk.parseInt(n.cells[p].style.width));l.cells[p].style.width=r+"px";var k=l.cells[p].firstChild;k.style.width=zk(k).revisedWidth(r)+"px"}}function f(x){var Q=x.$n(),U=Q?Q.style.whiteSpace:"";if(Q){if(zk.ie8_){x._wsbak=U}if(zk.ie<8){jq(Q).addClass("z-word-nowrap")}else{Q.style.whiteSpace="nowrap"}}var P,H,s,G,F,R,p=x.ehdfaker,o=x.ebdfaker,D=x.eftfaker,u=x.head,V=u?u.$n():null,y=u?u.$n("hdfakerflex"):null,z=[],N=[],M=[],l=[],I=[];if(x.eheadtbl&&V){x.ehead.style.width="";P=x.eheadtbl.width;x.eheadtbl.width="";x.eheadtbl.style.width="";G=x.eheadtbl.style.tableLayout;x.eheadtbl.style.tableLayout="";for(var O=p.cells.length-(y?1:0);O--;){var X=p.cells[O],J=V.cells[O],S=J.firstChild;z[O]=X.style.width;X.style.width="";l[O]=J.style.width;J.style.width="";I[O]=S.style.width;S.style.width=""}}if(V){V.style.width=""}if(x.efoottbl){x.efoot.style.width="";H=x.efoottbl.width;x.efoottbl.width="";x.efoottbl.style.width="";F=x.efoottbl.style.tableLayout;x.efoottbl.style.tableLayout="";for(var O=D.cells.length-(y?1:0);O--;){var C=D.cells[O];M[O]=C.style.width;C.style.width=""}}if(x.ebodytbl){x.ebody.style.width="";s=x.ebodytbl.width;x.ebodytbl.width="";x.ebodytbl.style.width="";R=x.ebodytbl.style.tableLayout;x.ebodytbl.style.tableLayout="";if(o){for(var O=o.cells.length-(y?1:0);O--;){var L=o.cells[O];N[O]=L.style.width;L.style.width=""}}}var v=[],k=0,K=u?u=u.lastChild:null,W=x.getHeadWidget(),B=0,r;if(o&&K){for(var O=o.cells.length-(y?1:0);O--;){var n=bdwd=o.cells[O].offsetWidth,t=zk(K.$n("cave")),q=K&&K.isVisible()?(t.textSize()[0]+t.padBorderWidth()+zk(K.$n()).padBorderWidth()):0,E=D&&zk(D.cells[O]).isVisible()?D.cells[O].offsetWidth:0,m;if((m=W.getChildAt(O))&&m.getWidth()){q=Math.max(q,p.cells[O].offsetWidth)}if(q>n){n=q}if(E>n){n=E}v[O]=n;if(zk.ie<8&&B<n){B=n;r=O}else{if(zk.ff>4||zk.ie==9){++v[O]}}if(zk.ie<8){v[O]+=2}k+=v[O];if(K){K=K.previousSibling}}}else{var T;if(T=i(x)){for(var A=T.cells,O=A.length;O--;){var n=A[O].offsetWidth;v[O]=n;if(zk.ie<8&&B<n){B=n;r=O}else{if(zk.ff>4||zk.ie==9){++v[O]}}if(zk.ie<8){v[O]+=2}k+=v[O]}}}if(x.eheadtbl&&V){x.eheadtbl.width=P||"";x.eheadtbl.style.tableLayout=G||"";for(var O=p.cells.length-(y?1:0);O--;){p.cells[O].style.width=z[O];var J=V.cells[O],S=J.firstChild;J.style.width=l[O];S.style.width=I[O]}}if(x.efoottbl){x.efoottbl.width=H||"";x.efoottbl.style.tableLayout=F||"";for(var O=D.cells.length-(y?1:0);O--;){D.cells[O].style.width=M[O]}}if(x.ebodytbl){x.ebodytbl.width=s||"";x.ebodytbl.style.tableLayout=R||"";if(o){for(var O=o.cells.length-(y?1:0);O--;){o.cells[O].style.width=N[O]}}}if(Q){if(zk.ie<8){jq(Q).removeClass("z-word-nowrap")}else{if(!zk.ie8_){Q.style.whiteSpace=U}}}return{width:k,wds:v}}function c(s,m){var p=s.isSizedByContent(),l=s._hflex=="min";if(!s.head&&(l||p)){var k=zk(s.$n()).padBorderWidth();wd=b(s)+k,tr=s.ebodytbl,wds=s._minWd.wds,wlen=wds.length;if(m&&l){s.setFlexSize_({width:wd},true)}if(!(tr=tr.firstChild)||!(tr=tr.firstChild)){return}for(var q=tr.firstChild,n=0;q&&(n<wlen);q=q.nextSibling){q.style.width=(zk.safari?wds[n++]:zk(q).revisedWidth(wds[n++]))+"px"}if(p&&!l){var o=tr.lastChild,r=s.uuid+"-bdflex";if(!o||o.id!=r){jq(tr).append('<td id="'+r+'"></td>');o=tr.lastChild}}}}function j(x,y){var r=x.ebody;if(!r){return}var s=r.offsetHeight;if(zk(r).hasHScroll()){s-=jq.scrollbarWidth()}if(s==x._prehgh){return false}x._prehgh=s;var l=x.ebodytbl,u=l.offsetParent,k=l.offsetTop,m=0,v,n=0;for(var o=x.getBodyWidgetIterator({skipHidden:true}),p=y.length,t;(t=o.next())&&n<p;n++){v=y[n];var q=v.offsetTop-(v.offsetParent==u?k:0);if(q>s){--n;break}m=q}if(v){if(q<=s){m=m+v.offsetHeight;n=Math.floor(n*s/m)}if(n==0){n=1}if(n!=x.getPageSize()){x.fire("onPageSize",{size:n});return true}}}function a(l){var k=l.ebodytbl.tBodies;l.ebodyrows=l.ebodytbl.tBodies[k.length>3?l.ehead?2:1:l.ehead?1:0].rows}function h(l){if(l._hflex=="min"){var k=b(l);l._hflexsz=k+zk(l).padBorderWidth();l.$n().style.width=jq.px0(k)}}function b(t){t._calcMinWds();var r=t.ebdfaker,k=t.eheadtbl,q=t.ebodytbl,o,l=[],m,n=t._minWd.wds;if(t.head&&r){m=0;for(var s=t.head.firstChild,p=0;s;s=s.nextSibling){if(zk(r.cells[p]).isVisible()){o=l[p]=s._hflex=="min"?n[p]:(s._width&&s._width.indexOf("px")>0)?zk.parseInt(s._width):r.cells[p].offsetWidth;m+=o}++p}}else{m=t._minWd.width}return m+(zk.ie<8?1:0)}function i(p){var o=p.getBodyWidgetIterator().next(),n=o?o.$n():null;if(!n){return}for(var m=n,l,k=m.cells.length;n;n=n.nextSibling){if((l=n.cells.length)>k){m=n;k=l}}return m}function d(t){var F=t.efoot.firstChild.rows[0],k=t.ebodyrows;if(!F||!k||!k.length||!F.cells.length){return}var r=F.cells.length,p,u=0;for(var C=0,n=t.getBodyWidgetIterator({skipHidden:true}),x;(x=n.next());){if(t._modal&&!x._loaded){continue}var o=k[C++],B=zk(o),m=o.cells,q=B.ncols(),A=m.length==q&&B.isVisible();if(A&&q>=r){u=r;p=o;break}if(q>u){p=A?o:null;u=q}else{if(q==u&&!p&&A){p=o}}}if(!u){return}var E=!p;if(E){p=document.createElement("TR");p.style.height="0px";for(var C=0;C<u;++C){p.appendChild(document.createElement("TD"))}k[0].parentNode.appendChild(p)}for(var C=u;C--;){F.cells[C].style.width=""}var l=0;for(var C=u;C--;){var D=F.cells[C],z=p.cells[C];if(zk.opera){l+=z.offsetWidth;D.style.width=zk(z).revisedWidth(z.offsetWidth)}else{D.style.width=z.offsetWidth+"px";if(u>1){var y=z.offsetWidth-D.offsetWidth;if(y!=0){y+=z.offsetWidth;if(y<0){y=0}D.style.width=y+"px"}}}}if(zk.opera&&t.isSizedByContent()){F.parentNode.parentNode.style.width=l+"px"}if(E){p.parentNode.removeChild(p)}}zul.mesh.MeshWidget=zk.$extends(zul.Widget,{_pagingPosition:"bottom",_prehgh:-1,_minWd:null,$init:function(){this.$supers("$init",arguments);this.heads=[]},_innerWidth:"100%",_currentTop:0,_currentLeft:0,$define:{pagingPosition:_zkf=function(){this.rerender()},sizedByContent:_zkf,span:function(l){var k=(true===l||"true"==l)?-65500:(false===l||"false"==l)?0:(zk.parseInt(l)+1);this._nspan=k<0&&k!=-65500?0:k;this.rerender()},autopaging:_zkf,paginal:_zkf,model:null,innerWidth:function(k){if(k==null){this._innerWidth=k="100%"}if(this.eheadtbl){this.eheadtbl.style.width=k}if(this.ebodytbl){this.ebodytbl.style.width=k}if(this.efoottbl){this.efoottbl.style.width=k}}},getPageSize:function(){return(this.paging||this._paginal).getPageSize()},setPageSize:function(k){(this.paging||this._paginal).setPageSize(k)},getPageCount:function(){return(this.paging||this._paginal).getPageCount()},getActivePage:function(){return(this.paging||this._paginal).getActivePage()},setActivePage:function(k){(this.paging||this._paginal).setActivePage(k)},inPagingMold:function(){return"paging"==this.getMold()},setHeight:function(k){this.$supers("setHeight",arguments);if(this.desktop){if(zk.ie6_&&this.ebody){this.ebody.style.height=k}this._setHgh(k);this.onSize()}},setWidth:function(k){this.$supers("setWidth",arguments);if(this.eheadtbl){this.eheadtbl.style.width=""}if(this.efoottbl){this.efoottbl.style.width=""}if(this.desktop){this.onSize()}},setStyle:function(k){if(this._style!=k){this.$supers("setStyle",arguments);if(this.desktop){this.onSize()}}},getHeadWidget:function(){return this.head},getFocusCell:function(k){},_moveToHidingFocusCell:function(k){var m,l;if(this.head&&(m=this.head.getChildAt(k).$n())&&parseInt(m.style.width)==0&&(l=zk.Widget.$(this.efrozen.firstChild))&&(k=k-l.getColumns())>=0){l.setStart(k);g=true}},_restoreFocus:function(){if(g&&zk.currentFocus){g=false;zk.currentFocus.focus()}},bind_:function(){this.$supers(zul.mesh.MeshWidget,"bind_",arguments);if(zk.ie<8&&this.isVflex()){var l=this.$n().style.height;if(!l||l=="auto"){this.$n().style.height="99%"}}this._bindDomNode();if(this._hflex!="min"){this._fixHeaders()}if(this.ebody){this.domListen_(this.ebody,"onScroll");this.ebody.style.overflow="";if(this.efrozen){jq(this.ebody).addClass("z-word-nowrap").css("overflow-x","hidden")}}zWatch.listen({onSize:this,beforeSize:this,onResponse:this});var k;if(zk.ie7_&&(k=this.$n("pgib"))){zk(k).redoCSS()}},unbind_:function(){if(this.ebody){this.domUnlisten_(this.ebody,"onScroll")}zWatch.unlisten({onSize:this,beforeSize:this,onResponse:this});this.$supers(zul.mesh.MeshWidget,"unbind_",arguments)},clearCache:function(){this.$supers("clearCache",arguments);this.ebody=this.ehead=this.efoot=this.efrozen=this.ebodytbl=this.eheadtbl=this.efoottbl=this.ebodyrows=this.ehdfaker=this.ebdfaker=null},syncSize:function(){if(this.desktop){this.clearCachedSize_();if(this._hflex=="min"){zFlex.onFitSize.apply(this)}else{this._calcMinWds();this._fixHeaders();this.onSize()}}},onResponse:function(){if(this._shallSize){this.syncSize()}},_syncSize:function(){if(this.desktop){this._shallSize=true}},_fixHeaders:function(r){if(this.head&&this.ehead){var q=true,o=false,n=(this._hflex=="min")||this.isSizedByContent();for(var p=this.heads.length;p-->0;){for(var m=this.heads[p].firstChild;m;m=m.nextSibling){if(n&&!m._width&&!m._nhflex){m._hflex="min";m._nhflex=-65500;m._nhflexbak=true}if(!o&&m._nhflex){o=true}if(m.getLabel()||m.getImage()||m.nChildren){q=false}}}var l=this.ehead.style.display,k=(r||q)&&o&&this.isRealVisible();this.ehead.style.display=q?"none":"";for(var m=this.head.firstChild;m;m=m.nextSibling){if(k&&m._nhflex){m.fixFlex_()}if(m._nhflexbak){delete m._hflex;delete m._nhflex;delete m._nhflexbak}}return l!=this.ehead.style.display}},_adjFlexWd:function(){var q=this.head;if(!q){return}var m=this.ehdfaker,p=this.ebdfaker,l=this.eftfaker,k=q.$n(),o=0;for(var n=q.firstChild,r;n;n=n.nextSibling){if((r=n._hflexWidth)!==undefined){e(o,r,m,p,l,k)}++o}h(this)},_bindDomNode:function(){for(var o=this.$n().firstChild;o;o=o.nextSibling){switch(o.id){case this.uuid+"-head":this.ehead=o;this.eheadtbl=jq(o).find(">table:first")[0];break;case this.uuid+"-body":this.ebody=o;this.ebodytbl=jq(o).find(">table:first")[0];break;case this.uuid+"-foot":this.efoot=o;this.efoottbl=jq(o).find(">table:first")[0];break;case this.uuid+"-frozen":this.efrozen=o;break}}if(this.ebody){var k=this.ebodytbl.tBodies,m=zk.ie7_&&k&&k.length==1&&!this.ehead&&!k[0].id;if(!k||!k.length||(this.ehead&&k.length<2||m)){if(m){jq(k[0]).remove()}var l=[];if(this.domPad_&&!this.inPagingMold()&&this._mold!="select"){this.domPad_(l,"-tpad")}l.push('<tbody id="',this.uuid,'-rows"/>');if(this.domPad_&&!this.inPagingMold()&&this._mold!="select"){this.domPad_(l,"-bpad")}jq(this.ebodytbl).append(l.join(""))}a(this)}if(this.ehead){this.ehdfaker=this.eheadtbl.tBodies[0].rows[0];this.ebdfaker=this.ebodytbl.tBodies[0].rows[0];if(this.efoottbl){this.eftfaker=this.efoottbl.tBodies[0].rows[0]}}},replaceHTML:function(){var k=this._syncingbodyrows;this._syncingbodyrows=true;try{this.$supers(zul.mesh.MeshWidget,"replaceHTML",arguments)}finally{this._syncingbodyrows=k}},replaceChildHTML_:function(){var k=this._syncingbodyrows;this._syncingbodyrows=true;try{this.$supers("replaceChildHTML_",arguments);a(this)}finally{this._syncingbodyrows=k}},fireOnRender:function(k){if(!this._pendOnRender){this._pendOnRender=true;setTimeout(this.proxy(this._onRender),k?k:100)}},_doScroll:function(){if(zk.safari&&this._ignoreDoScroll){return}if(!(this.fire("onScroll",this.ebody.scrollLeft).stopped)){if(this._currentLeft!=this.ebody.scrollLeft){if(this.ehead){this.ehead.scrollLeft=this.ebody.scrollLeft;var p=this.ebody.scrollLeft-this.ehead.scrollLeft;var o=jq(this.ehead).find("table>tbody>tr>th:last-child")[0];if(p){o.style.width=(o.offsetWidth+p)+"px";this.ehead.scrollLeft=this.ebody.scrollLeft}else{if(parseInt(o.style.width)!=0&&this.ebody.scrollLeft==0){o.style.width=""}}}if(this.efoot){this.efoot.scrollLeft=this.ebody.scrollLeft}}}var n=this.ebody.scrollTop,k=this.ebody.scrollLeft,m=(n!=this._currentTop||k!=this._currentLeft);if(m&&!this._listbox$rod&&!this._grid$rod){this._currentTop=n}if(m){this._currentLeft=k}if(!this.paging&&!this._paginal){this.fireOnRender(zk.gecko?200:60)}if(m){this._fireOnScrollPos()}},_timeoutId:null,_fireOnScrollPos:function(k){clearTimeout(this._timeoutId);this._timeoutId=setTimeout(this.proxy(this._onScrollPos),k>=0?k:zk.gecko?200:60)},_onScrollPos:function(){if(this.ebody){this._currentTop=this.ebody.scrollTop;this._currentLeft=this.ebody.scrollLeft;this.fire("onScrollPos",{top:this._currentTop,left:this._currentLeft})}},_onRender:function(){this._pendOnRender=false;if(this._syncingbodyrows||zAu.processing()){this.fireOnRender(zk.gecko?200:60);return true}var u=this.ebodyrows;if(this.inPagingMold()&&this._autopaging&&u&&u.length){if(j(this,u)){return}}if(zk.ie8_&&(this._wsbak!==undefined)){this.$n().style.whiteSpace=this._wsbak;delete this._wsbak}if(zk.ie<8){this._syncBodyHeight()}if(zk.ie7_){zk(this.ebody).redoCSS()}if(!this.desktop||!this._model||!u||!u.length){return}var p=[],k=this.ebody.scrollTop,r=k+this.ebody.offsetHeight;for(var l=0,m=this.getBodyWidgetIterator({skipHidden:true}),n=u.length,s;(s=m.next())&&l<n;l++){if(!s._loaded){var t=u[l],o=zk(t),q=o.offsetTop();if(q+o.offsetHeight()<k){continue}if(q>r){break}p.push(s)}}if(p.length){this.fire("onRender",{items:p},{implicit:true})}},_syncBodyHeight:function(){var l=this.ebody,k=this.ebodytbl;if(!this.desktop||this._height||(this._vflex&&this._vflex!="min")){return}if(l.style.height=="0px"){l.style.height=""}if(l.offsetHeight-k.offsetHeight>11&&l.offsetWidth>=k.offsetWidth){l.style.height=(k.offsetHeight)+"px"}zjq.fixOnResize(0)},beforeSize:function(){var l=zk.ie6_?this.getWidth():this.$n().style.width;if(!l||l=="auto"||l.indexOf("%")>=0){var m=this.$n();if(!zk.ie6_&&m._lastsz&&m._lastsz.height==m.offsetHeight&&m._lastsz.width==m.offsetWidth){return}if(this.ebody){this.ebody.style.width=""}if(this.ehead){this.ehead.style.width=""}if(this.efoot){this.efoot.style.width=""}if(zk.ie6_&&this._hflex&&this._hflex!="min"){m.style.width=""}m._lastsz=null}if(zk.ie6_&&this._vflex&&this._vflex!="min"){var k=this.getHeight();if(!k||k=="auto"||k.indexOf("%")>=0){var m=this.$n();m.style.height="";if(this.ebody){this.ebody.style.height=""}m._lastsz=null}}},onSize:function(){if(this.isRealVisible()){var k=this.$n();if(k._lastsz&&k._lastsz.height==k.offsetHeight&&k._lastsz.width==k.offsetWidth){this.fireOnRender(155);return}this._calcSize();this.fireOnRender(155);if(this.ebody.scrollHeight>=this._currentTop){this.ebody.scrollTop=this._currentTop}if(this.ebody.scrollWidth>=this._currentLeft){this.ebody.scrollLeft=this._currentLeft;if(this.ehead){this.ehead.scrollLeft=this._currentLeft}if(this.efoot){this.efoot.scrollLeft=this._currentLeft}}this._shallSize=false}},_vflexSize:function(m){var p=this.$n();if(zk.ie6_){p.style.height="";p.style.height=m}var k=0;if(this.paging){var o=this.$n("pgit"),l=this.$n("pgib");if(o){k+=o.offsetHeight}if(l){k+=l.offsetHeight}}return zk(p).revisedHeight(p.offsetHeight)-(this.ehead?this.ehead.offsetHeight:0)-(this.efoot?this.efoot.offsetHeight:0)-(this.efrozen?this.efrozen.offsetHeight:0)-k},setFlexSize_:function(l){var m=this.$n(),k=this.$n("head");if(l.height!==undefined){if(l.height=="auto"){m.style.height="";if(k){k.style.height=""}}else{if(zk.ie<8&&this._vflex=="min"&&this._vflexsz===undefined){l.height+=1}return this.$supers("setFlexSize_",arguments)}}if(l.width!==undefined){if(l.width=="auto"){if(this._hflex!="min"){m.style.width=""}if(k){k.style.width=""}}else{if(zk.ie<8&&k&&this._hflex=="min"&&this._hflexsz===undefined){l.width+=1}return this.$supers("setFlexSize_",arguments)}}return{height:m.offsetHeight,width:m.offsetWidth}},_setHgh:function(k){if(this.isVflex()||(k&&k!="auto"&&k.indexOf("%")<0)){if(zk.safari&&this.ebody.style.height==jq.px(this._vflexSize(k))){return}this.ebody.style.height="";var l=this._vflexSize(k);if(l<0){l=0}if(!zk.ie||zk.ie8||this._vflex!="min"){this.ebody.style.height=l+"px"}if(zk.ie&&this.ebody.offsetHeight){}}else{this.ebody.style.height="";this.$n().style.height=k}},_ignoreHghExt:function(){return false},_calcSize:function(){this._beforeCalcSize();var q=this.$n(),o=q.style.width;if(!o||o=="auto"||o.indexOf("%")>=0){o=zk(q).revisedWidth(q.offsetWidth);if(o){o+="px"}}if(o){this.ebody.style.width=o;if(this.ehead){this.ehead.style.width=o}if(this.efoot){this.efoot.style.width=o}}if(zk.ie7_&&this.ebodytbl){var m=this.ebodytbl.style,k=m.width;if(!k){m.width="100%";m.width=k}}var p=this._getEbodyWd(),l=this.getHeight()||q.style.height;if(zk.ie){if(this.eheadtbl&&this.eheadtbl.offsetWidth!=this.ebodytbl.offsetWidth){this.ebodytbl.style.width=""}if(p&&(!this.eheadtbl||!this.ebodytbl||!this.eheadtbl.style.width||this.eheadtbl.style.width!=this.ebodytbl.style.width||this.ebody.offsetWidth==this.ebodytbl.offsetWidth)&&this.ebody.offsetWidth-p>11){this.ebodytbl.style.width=jq.px0(--p)}if(!zk.ie8&&!this.isVflex()&&(!l||l=="auto")&&!this._ignoreHghExt()){if(zk(this.ebody).hasVScroll()){this.ebody.style.height=jq.px0(this.ebodytbl.offsetHeight)}p=this.ebody.clientWidth}}if(this.ehead){if(p){this.ehead.style.width=p+"px"}if(this.isSizedByContent()&&this.ebodyrows&&this.ebodyrows.length){this._adjHeadWd()}else{if(p&&this.efoot){this.efoot.style.width=p+"px"}}}else{if(this.efoot){if(p){this.efoot.style.width=p+"px"}if(this.efoottbl.rows.length&&this.ebodyrows&&this.ebodyrows.length){d(this)}}}this._adjSpanWd();c(this,true);if(this._hflexsz===undefined&&this._hflex=="min"&&this._width===undefined&&q.offsetWidth>this.ebodytbl.offsetWidth){q.style.width=this.ebodytbl.offsetWidth+"px";this._hflexsz=q.offsetWidth}q._lastsz={height:q.offsetHeight,width:q.offsetWidth};this._afterCalcSize()},_getEbodyWd:function(){return this.ebody.clientWidth},_beforeCalcSize:function(){this._setHgh(this.$n().style.height)},_afterCalcSize:function(){if(zk.ie8&&this.isModel()&&this.inPagingMold()){zk(this).redoCSS()}this._removeHorScrollbar();this._removeScrollbar()},_removeHorScrollbar:(zk.ie==8)?function(){var l=this._height;if(!this._vflex&&(!l||l=="auto")&&!this._rows&&this.ebody.offsetWidth>=this.ebodytbl.offsetWidth){var k=this.ebody.style.height,m=this;this.ebody.style.height=this.ebodytbl.offsetHeight+"px";setTimeout(function(){m.ebody.style.height=k},0)}}:zk.$void,_removeScrollbar:zk.ie?function(){if(this._vflex){return}var m=this.getHeight()||this.$n().style.height||(this.getRows&&this.getRows());if(!m||m=="auto"){var l=this.ebody,k=this.ebodytbl;if(zk.ie<8){var n;if((n=zk(l)).hasVScroll()){l.style.height=jq.px0(k.offsetHeight);if(n.hasVScroll()){l.style.height=jq.px0(k.offsetHeight+jq.scrollbarWidth())}}}else{if(!this.efrozen){l.style.overflowX=k.offsetWidth>l.offsetWidth?"scroll":""}}}}:zk.$void,_isAllWidths:function(){if(this.isSizedByContent()){return true}if(!this.head){return false}var l=true;for(var k=this.head.firstChild;k;k=k.nextSibling){if(l&&(k._width===undefined||k._width.indexOf("px")<=0)&&(k._hflex!="min"||k._hflexsz===undefined)&&k.isVisible()){l=false;break}}return l},domFaker_:function(n,m,l){var r=this.head;n.push('<tbody style="visibility:hidden;height:0px"><tr id="',r.uuid,m,'" class="',l,'-faker">');var q=true,p=0,o=zk.ie<8;for(var s=r.firstChild;s;s=s.nextSibling){n.push('<th id="',s.uuid,m,'"',s.domAttrs_(),'><div style="overflow:hidden"></div></th>');if(q&&s._width===undefined&&s._hflex===undefined&&s.isVisible()){q=false;o=false}else{if(o){var k=s._width;if(k&&k.indexOf("px")!=-1){p+=zk.parseInt(k)}else{o=false}}}}if(o){var s=this._width;if(s&&s.indexOf("px")!=-1){q=zk.parseInt(s)!=p}}n.push('<th id="',r.uuid,m,'flex"',(q||this.isSizedByContent()?"":' style="width:0px"'),"></th></tr></tbody>")},onChildAdded_:function(o){this.$supers("onChildAdded_",arguments);if(o.$instanceof(this.getHeadWidgetClass())){this.head=o;this._minWd=null}else{if(!o.$instanceof(zul.mesh.Auxhead)){return}}var m=o.nextSibling;if(m){for(var n=this.heads,l=0,k=n.length;l<k;++l){if(n[l]==m){n.splice(l,0,o);return}}}this.heads.push(o)},onChildRemoved_:function(k){this.$supers("onChildRemoved_",arguments);if(k==this.head){this._minWd=this.head=null;this.heads.$remove(k)}else{if(k.$instanceof(zul.mesh.Auxhead)){this.heads.$remove(k)}else{if(k.$instanceof(zul.mesh.Frozen)){this.efrozen=null}}}},beforeMinFlex_:function(l){if(this._hflexsz===undefined&&l=="w"&&this._width===undefined){if(this.isSizedByContent()){this._calcSize()}if(this.head){this._fixHeaders(true);for(var k=this.head.firstChild;k;k=k.nextSibling){if(k._hflex=="min"&&k.hflexsz===undefined){return null}}}c(this);return b(this)}return null},beforeParentMinFlex_:function(k){if(k=="w"){if(this.isSizedByContent()){this._calcSize()}if(this.head){this._fixHeaders()}}else{this._calcSize()}},clearCachedSize_:function(){this.$supers("clearCachedSize_",arguments);this._clearCachedSize();var p;if(!this.ebdfaker&&(p=i(this))){for(var l=p.cells,n=l.length;n--;){l[n].style.width=""}}var m=this.getHeadWidget();if(m){for(var k=m.firstChild,o;k;k=k.nextSibling){delete k._hflexsz}}},_clearCachedSize:function(){var k;if(k=this.$n()){k._lastsz=this._minWd=null}},_calcMinWds:function(){if(!this._minWd){this._minWd=f(this)}return this._minWd},_adjSpanWd:function(){if(!this._isAllWidths()||!this.isSpan()){return}var B=this.ehdfaker,z=this.ebdfaker,p=this.eftfaker;if(!B||!z||!B.cells.length||!z.cells.length){return}var q=this.head.$n();if(!q){return}this._calcMinWds();var G=this.eheadtbl,E=this.ebodytbl,u,x=[],D=0,k=this.head.$n("hdfakerflex"),o=zk(B).isRealVisible(true),t=this._minWd.wds;for(var A=this.head.firstChild,F=0;A;A=A.nextSibling){if(zk(B.cells[F]).isVisible()){u=x[F]=A._hflex=="min"?t[F]:(A._width&&A._width.indexOf("px")>0)?zk.parseInt(A._width):o?B.cells[F].offsetWidth:z.cells[F].offsetWidth;D+=u}++F}var v=zk.ie<8?(this.getHeight()||this.$n().style.height):true;var H=(v?E.parentNode.clientWidth:E.parentNode.offsetWidth)-(zk.ie<8?1:0),n=H-D;var s=H,C=-1;if(this._nspan<0){for(var F=B.cells.length-(k?1:0);F--;){if(!zk(B.cells[F]).isVisible()){continue}x[F]=u=n<=0?x[F]:(((x[F]*H/D)+0.5)|0);var y=zk(z.cells[F]).revisedWidth(u),r=jq.px0(y);s-=u;C=F;if(z.cells[F].style.width==r){continue}z.cells[F].style.width=r;B.cells[F].style.width=r;if(p){p.cells[F].style.width=r}var m=zk(q.cells[F]).revisedWidth(y);q.cells[F].style.width=jq.px0(m);var l=q.cells[F].firstChild;l.style.width=zk(l).revisedWidth(m)+"px"}if(n>0&&s!=0&&C>=0){u=x[C]+s;var y=zk(z.cells[C]).revisedWidth(u),r=jq.px0(y);z.cells[C].style.width=r;B.cells[C].style.width=r;if(p){p.cells[C].style.width=r}var m=zk(q.cells[C]).revisedWidth(y);q.cells[C].style.width=jq.px0(m);var l=q.cells[C].firstChild;l.style.width=zk(l).revisedWidth(m)+"px"}}else{C=this._nspan-1;for(var F=B.cells.length-(k?1:0);F--;){if(!zk(B.cells[F]).isVisible()){continue}u=C==F&&n>0?(x[C]+n):x[F];var y=zk(z.cells[F]).revisedWidth(u),r=jq.px0(y);if(z.cells[F].style.width==r){continue}z.cells[F].style.width=r;B.cells[F].style.width=r;if(p){p.cells[F].style.width=r}var m=zk(q.cells[F]).revisedWidth(y);q.cells[F].style.width=jq.px0(m);var l=q.cells[F].firstChild;l.style.width=zk(l).revisedWidth(m)+"px"}}if(zk.opera){zk(this.$n()).redoCSS()}},_adjHeadWd:function(){var v=this.ehdfaker,t=this.ebdfaker,n=this.eftfaker,k=this.head?this.head.$n("hdfakerflex"):null;if(!v||!t||!v.cells.length||!t.cells.length||!zk(v).isRealVisible()||!this.getBodyWidgetIterator().hasNext()){return}var A=this.ehead.firstChild,o=this.head.$n();if(!o){return}var y=this.ebody.firstChild;var C=Math.max(A.offsetWidth,y.offsetWidth),q=Math.min(y.parentNode.clientWidth,y.offsetWidth);if(C==this.ebody.offsetWidth&&this.ebody.offsetWidth>q&&this.ebody.offsetWidth-q<20){C=q}this._calcMinWds();var p=this._minWd,s=p.wds,x=p.width;for(var z=t.cells.length-(k?1:0),B=this.head.lastChild;z--;B=B.previousSibling){if(!zk(v.cells[z]).isVisible()||B._width){continue}var r=s[z],u=zk(t.cells[z]).revisedWidth(r),w=u+"px";v.cells[z].style.width=t.cells[z].style.width=w;if(n){n.cells[z].style.width=w}var m=zk(o.cells[z]).revisedWidth(u);o.cells[z].style.width=m+"px";var l=o.cells[z].firstChild;l.style.width=zk(l).revisedWidth(m)+"px"}if(C!=A.offsetWidth){C=A.offsetWidth;q=Math.min(this.ebody.clientWidth,y.offsetWidth);if(C==this.ebody.offsetWidth&&this.ebody.offsetWidth>q&&this.ebody.offsetWidth-q<20){C=q}}h(this)}})})();