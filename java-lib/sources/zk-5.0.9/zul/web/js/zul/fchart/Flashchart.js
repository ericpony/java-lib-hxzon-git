(function(){var c=zk.ajaxURI("/web/js/zul/fchart/charts.swf",{au:true}),f=zk.ajaxURI("/web/js/zul/fchart/expressinstall.swf",{au:true}),i={stackingEnabled:true,type:"numeric",alwaysShowZero:true,hideOverlappinLabels:true,orientation:"horizontal",reverse:false,scale:"linear",snapToUnits:true};function b(j){switch(typeof j){case"number":return String(j);case"boolean":return String(j);case"string":return'"'+j+'"';default:return"null"}}function e(t){var s=t.split(","),q=s.length,k=[],w=["{"],u;for(var n=0;n<q;n++){var v=s[n].split("-"),l=!v[2]?v[0]:v[1],p=false,r,m;if(!v[1]){w.push("}");break}if(!v[2]){r=v[1].split("=")[0],m=v[1].split("=")[1]}else{r=v[2].split("=")[0],m=v[2].split("=")[1]}u=k.length;if(u>0){for(var o=0;o<u;o++){if(k[o].match(l)){p=true;break}}}if(!p){k.push(b(l));if(!v[2]){w.push(b(l),":")}else{w.push(",",b(l),":")}w.push("{",b(r),":",b(m))}else{w.push(",",b(r),":",b(m))}}u=k.length;for(var n=0;n<u;n++){w.push("}")}w.push("}");return w.join("")}function d(q,o){var n=q.$n("chart"),m=q._type,l=q._chartStyle,p=jq.evalJSON(q._jsonModel),k=[];n.setType(m);if(!l){if(m!="bar"&&m!="line"&&m!="column"){n.setStyles(e(q._defaultStyle))}}else{n.setStyles(e(l))}if(m=="pie"){k=[{type:m,dataProvider:p}];n.setCategoryField("categoryField");n.setDataField("dataField")}else{if(m=="stackbar"){var j=jq.evalJSON(q._jsonSeries),k=h(j,m,p,k);n.setHorizontalAxis(i);n.setVerticalField("verticalField")}else{if(m=="stackcolumn"){var j=jq.evalJSON(q._jsonSeries),k=h(j,m,p,k);n.setHorizontalField("horizontalField");n.setVerticalAxis(i)}else{k=[{type:m,dataProvider:p}];n.setHorizontalField("horizontalField");n.setVerticalField("verticalField")}}}n.setDataProvider(k)}function g(p,l){var n=p.$n("chart"),m=p._type,o=jq.evalJSON(l),k=jq.evalJSON(p._jsonSeries),j=[];if(m=="stackbar"||m=="stackcolumn"){j=h(k,m,o,j)}else{j=h(false,m,o,j)}n.setDataProvider(j)}function h(m,q,l,k){var j=m.length,o=null;if(m){for(var n=0;n<j;n++){o=m[n];var p={};for(var r in o){if(r=="style"&&o.style!==null){p.style=e(o.style)}else{p[r]=o[r]}}k.push(p);o=p;if(!o.type){o.type=q}o.dataProvider=l}}else{k.push({type:q,dataProvider:l})}return k}var a=zul.fchart.Flashchart=zk.$extends(zul.med.Flash,{_width:"400px",_height:"200px",_defaultStyle:"legend-display=right,legend-padding=10,legend-spacing=5,legend-font-family=Arial,legend-font-size=13",$define:{chartStyle:null,jsonModel:null,jsonSeries:null,type:null},setRefresh:function(j){g(this,j)},bind_:function(p,o,n){this.$supers(a,"bind_",arguments);var m=this.uuid+"-chart",j="allowedDomain=localhost&elementID="+m+"&eventHandler=zul.fchart.Flashchart.onEvent",k={flashvars:j,allowScriptAccess:"always",bgcolor:"#ffffff",wmode:"opaque"},l={id:m,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"};if(zk.ie||zk.opera){c=c+(c.indexOf("?")===-1?"?":"&")+"_cache="+new Date().getTime()}zul.fchart.swfobject.embedSWF(c,m,this._width,this._height,"9.0.0",f,false,k,l)}},{onEvent:function(m,l){var k=l.type;if(k=="swfReady"){var j=zk.Widget.$(m);if(j){d(j,l)}}}})})();