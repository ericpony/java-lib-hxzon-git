zul.Auxbutton=zk.$extends(zk.Object,{$init:function(d,a,c){this._wgt=d;this._btn=a;this._ref=c;var b=jq(a);b.zk.disableSelection();if(!d.$weave){b.mouseover(this.proxy(this._domOver)).mouseout(this.proxy(this._domOut)).bind("zmousedown",this.proxy(this._domDown))}},cleanup:function(){var a=jq(this._btn);a.zk.enableSelection();if(!this._wgt.$weave){a.unbind("mouseover",this.proxy(this._domOver)).unbind("mouseout",this.proxy(this._domOut)).unbind("zmousedown",this.proxy(this._domDown))}},_domOver:function(){var d=this._wgt,a=d.getInputNode(),c=d.getZclass(),b=d.inRoundedMold();if(!d.isDisabled()&&!zk.dragging){if(b&&!d._buttonVisible){return}jq(this._btn).addClass(c+"-btn-over");if(b&&!jq(a).hasClass(c+"-text-invalid")){jq(a).addClass(c+"-inp-over")}}},_domOut:function(){var b=this._wgt,a=b.getZclass();if(!b.isDisabled()&&!zk.dragging){jq(this._btn).removeClass(a+"-btn-over");jq(b.getInputNode()).removeClass(a+"-inp-over")}},_domDown:function(){var f=this._wgt,b=f.getInputNode(),e=f.getZclass(),d=f.inRoundedMold();if(!f.isDisabled()&&!zk.dragging){var c=zul.Auxbutton,a=c._curab;if(a){a._domUp()}if(d&&!f._buttonVisible){return}jq(this._btn).addClass(e+"-btn-clk");if(d&&!f.isReadonly()&&!jq(b).hasClass(e+"-text-invalid")){jq(b).addClass(e+"-inp-clk")}jq(document).bind("zmouseup",this.proxy(this._domUp));c._curab=this}},_domUp:function(){var b=zul.Auxbutton,a=b._curab;if(a){b._curab=null;var d=a._wgt,c=d.getZclass();if(d.inRoundedMold()&&!d._buttonVisible){return}jq(a._btn).removeClass(c+"-btn-clk");jq(d.getInputNode()).removeClass(c+"-inp-clk");jq(document).unbind("zmouseup",a.proxy(this._domUp))}}});