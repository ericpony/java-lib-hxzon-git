(function(){function b(c){return zk.isLoaded("zkex.sel")&&c.$instanceof(zkex.sel.Listgroup)}function a(c){return zk.isLoaded("zkex.sel")&&c.$instanceof(zkex.sel.Listgroupfoot)}zul.sel.Listcell=zk.$extends(zul.LabelImageWidget,{_colspan:1,$define:{colspan:[function(c){return c>1?c:1},function(){var c=this.$n();if(c){c.colSpan=this._colspan}}]},setLabel:function(){this.$supers("setLabel",arguments);if(this.desktop){if(b(this.parent)){this.parent.rerender()}else{if(this.parent.$instanceof(zul.sel.Option)){this.getListbox().rerender()}}}},getListbox:function(){var c=this.parent;return c?c.parent:null},getZclass:function(){return this._zclass==null?"z-listcell":this._zclass},getTextNode:function(){return jq(this.$n()).find(">div:first")[0]},getMaxlength:function(){var d=this.getListbox();if(!d){return 0}if(d.getMold()=="select"){return d.getMaxlength()}var c=this.getListheader();return c?c.getMaxlength():0},getListheader:function(){var d=this.getListbox();if(d&&d.listhead){var c=this.getChildIndex();if(c<d.listhead.nChildren){return d.listhead.getChildAt(c)}}return null},domLabel_:function(){return zUtl.encodeXML(this.getLabel(),{maxlength:this.getMaxlength()})},domContent_:function(){var d=this.$supers("domContent_",arguments),c=this._colHtmlPre();return d?c?c+"&nbsp;"+d:d:c},domClass_:function(e){var c=this.$supers("domClass_",arguments);if((!e||!e.zclass)&&(b(this.parent)||a(this.parent))){var d=this.parent.getZclass();c+=" "+d+"-inner"}return c},_colHtmlPre:function(){var d="",f=this.getListbox(),h=this.parent,j=h.getZclass();if(f!=null&&h.firstChild==this){var e=b(h);if(f.isCheckmark()&&!a(h)&&(!e||f.groupSelect)){var i=h.isCheckable(),g=f.isMultiple(),c=j+"-img";d+='<span id="'+h.uuid+'-cm" class="'+c+" "+c+(g?"-checkbox":"-radio");if(!i||h.isDisabled()){d+=" "+c+"-disd"}d+='"';if(!i){d+=' style="visibility:hidden"'}d+="></span>"}if(e){d+='<span id="'+h.uuid+'-img" class="'+j+"-img "+j+"-img-"+(h._open?"open":"close")+'"></span>'}if(d){return d}}return(!this.getImage()&&!this.getLabel()&&!this.firstChild)?"&nbsp;":""},doFocus_:function(c){this.$supers("doFocus_",arguments);var g,h,d,i,e,f;if((g=this.getListbox())&&g.efrozen&&(h=zk.Widget.$(g.efrozen.firstChild)&&(f=this.$n()))){g._moveToHidingFocusCell(f.cellIndex)}},doMouseOver_:function(c){if(zk.gecko&&(this._draggable||this.parent._draggable)&&!jq.nodeName(c.domTarget,"input","textarea")){var d=this.$n();if(d){d.firstChild.style.MozUserSelect="none"}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(c){if(zk.gecko&&(this._draggable||this.parent._draggable)){var d=this.$n();if(d){d.firstChild.style.MozUserSelect="none"}}this.$supers("doMouseOut_",arguments)},domAttrs_:function(){var c=this.getListheader(),d;if(c){d=c.getColAttrs()}return this.$supers("domAttrs_",arguments)+(this._colspan>1?' colspan="'+this._colspan+'"':"")+(d?" "+d:"")},domStyle_:function(e){var d=this.$supers("domStyle_",arguments),c=this.getListheader();if(c&&!c.isVisible()){d+="display:none;"}return d},bindChildren_:function(){var c;if(!(c=this.parent)||!c.$instanceof(zul.sel.Option)){this.$supers("bindChildren_",arguments)}},unbindChildren_:function(){var c;if(!(c=this.parent)||!c.$instanceof(zul.sel.Option)){this.$supers("unbindChildren_",arguments)}},deferRedrawHTML_:function(c){c.push("<td",this.domAttrs_({domClass:1}),' class="z-renderdefer"></td>')}})})();