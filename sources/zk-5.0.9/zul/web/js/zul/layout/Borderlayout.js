(function(){var c={north:function(f,e,g,d){f.w=g-f.w;e.y=f.ts;e.h-=f.ts},south:function(f,e,g,d){f.w=g-f.w;f.y=d-f.y;e.h-=f.ts},east:function(e,d,f){e.y+=d.y;e.h=d.h-e.h;e.x=f-e.x;d.w-=e.ts},west:function(e,d){e.y+=d.y;e.h=d.h-e.h;d.x+=e.ts;d.w-=e.ts}};function b(h,k,e){if(!h){return 0}var j=h.$n("real"),f=k?"offsetWidth":"offsetHeight",d=j[f];if(e){var i=h.$n("colled"),g=h.$n("split");if(i){d+=i[f]}if(g){d+=g[f]}}return d}var a=zul.layout.Borderlayout=zk.$extends(zul.Widget,{_ignoreOffsetTop:zk.ie<8,setResize:function(){this.resize()},onChildAdded_:function(e){this.$supers("onChildAdded_",arguments);var d=zul.layout.Borderlayout;if(e.getPosition()==d.NORTH){this.north=e}else{if(e.getPosition()==d.SOUTH){this.south=e}else{if(e.getPosition()==d.CENTER){this.center=e}else{if(e.getPosition()==d.WEST){this.west=e}else{if(e.getPosition()==d.EAST){this.east=e}}}}}this.resize()},onChildRemoved_:function(d){this.$supers("onChildRemoved_",arguments);if(d==this.north){this.north=null}else{if(d==this.south){this.south=null}else{if(d==this.center){this.center=null}else{if(d==this.west){this.west=null}else{if(d==this.east){this.east=null}}}}}if(!this.childReplacing_){this.resize()}},getZclass:function(){return this._zclass==null?"z-borderlayout":this._zclass},bind_:function(){this.$supers(a,"bind_",arguments);zWatch.listen({onSize:this})},unbind_:function(){zWatch.unlisten({onSize:this});this.$supers(a,"unbind_",arguments)},beforeMinFlex_:function(i){var g=this.east,e=this.west,h=this.north,f=this.south,d=this.center;return i=="w"?Math.max(b(h,true),b(f,true),b(g,true,true)+b(e,true,true)+b(d,true)):b(h,false,true)+b(f,false,true)+Math.max(b(g),b(e),b(d))},afterChildrenFlex_:function(){if(this._isOnSize){this._resize(true)}},resize:function(){if(this.desktop){this._resize()}},_resize:function(m){this._isOnSize=m;if(!this.isRealVisible()){return}var h=["north","south","west","east"],i=h.length;for(var n,l=0;l<i;++l){n=this[h[l]];if(n&&zk(n.$n()).isVisible()&&((n._nvflex&&n._vflexsz===undefined)||(n._nhflex&&n._hflexsz===undefined))){return}}var f=this.$n(),e=f.offsetWidth,q=f.offsetHeight,d={x:0,y:0,w:e,h:q};if(zk.opera&&!q&&(!f.style.height||f.style.height=="100%")){var o=f.parentNode;d.h=q=zk(o).revisedHeight(o.offsetHeight)}for(var n,p,g,l=0;l<i;++l){n=this[h[l]];if(n&&zk(n.$n()).isVisible()){p=n._ambit();c[h[l]](p,d,e,q);this._resizeWgt(n,p)}}if(this.center&&zk(this.center.$n()).isVisible()){var r=this.center.getCurrentMargins_();d.x+=r.left;d.y+=r.top;d.w-=r.left+r.right;d.h-=r.top+r.bottom;this._resizeWgt(this.center,d)}this._isOnSize=false},_resizeWgt:function(g,d,h){if(g._open){if(!h&&g.$n("split")){g._fixSplit();d=g._reszSplt(d)}zk.copy(g.$n("real").style,{left:jq.px(d.x),top:jq.px(d.y)});this._resizeBody(g,d)}else{g.$n("split").style.display="none";var e=g.$n("colled");if(e){var f=zk(e);zk.copy(e.style,{left:jq.px(d.x),top:jq.px(d.y),width:jq.px0(f.revisedWidth(d.w)),height:jq.px0(f.revisedHeight(d.h))})}}},_resizeBody:function(i,d){d.w=Math.max(0,d.w);d.h=Math.max(0,d.h);var g=i.$n("real"),h=i.isFlex()&&i.firstChild,f=h?i.firstChild.$n():i.$n("cave");if(!this._ignoreResize(g,d.w,d.h)){d.w=zk(g).revisedWidth(d.w);g.style.width=jq.px0(d.w);d.w=zk(f).revisedWidth(d.w);f.style.width=jq.px0(d.w);d.h=zk(g).revisedHeight(d.h);g.style.height=jq.px0(d.h);if(i.$n("cap")){d.h=Math.max(0,d.h-i.$n("cap").offsetHeight)}if(h){var e;if(e=i.$n("cave")){e.style.height=jq.px0(d.h)}}d.h=zk(f).revisedHeight(d.h);f.style.height=jq.px0(d.h);if(i.isAutoscroll()){f.style.overflow="auto";f.style.position="relative"}else{f.style.overflow="hidden";f.style.position=""}if(!this._isOnSize){zUtl.fireSized(i)}}},_ignoreResize:function(f,d,e){if(f._lastSize&&f._lastSize.width==d&&f._lastSize.height==e){return true}else{f._lastSize={width:d,height:e};return false}},onSize:function(){this._resize(true)}},{NORTH:"north",SOUTH:"south",EAST:"east",WEST:"west",CENTER:"center"})})();