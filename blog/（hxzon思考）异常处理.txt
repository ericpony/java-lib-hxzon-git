（hxzon思考）异常处理

by hxzon

===========
一，受检异常vs非受检异常

受检异常

优点：抛出的异常明确。

缺点：
1，强制在代码中需要捕获，带来两种“繁琐”：切断了变量的作用域；嵌套try catch。
2，当不宜或无法立刻处理时，需要继续上抛，此时异常变成方法签名的一部分，影响后续更改（“僵硬”）。

----
非受检异常

缺点：方法签名本身没有明确表明可能抛出的异常。（可通过ide，文档等来改进）

优点：避免了“受检异常”上述的缺点。

----
hxzon个人观点：推荐使用“非检查异常”，抛弃“受检异常”。

===========
二，异常vs返回值

大多数语言不支持“多返回值”，所以不一定能用返回值来表示错误。

两者的本质区别：
异常允许此刻不检查不处理，留到更合适的上层处理。
返回值强制要求立刻检查并处理。（其本质就是“受检异常”，但没有“受检异常”“繁琐”和“僵硬”的缺点。）

hxzon个人观点：异常更灵活，更简洁，但同时，增加了隐藏的中断逻辑。


